(function(Fe,Ge){var ze=typeof exports=="object";if(typeof define=="function"&&define.amd)define(["@ag-grid-community/core","react","react-dom"],Ge);else if(typeof module=="object"&&module.exports)module.exports=Ge(require("@ag-grid-community/core"),require("react"),require("react-dom"));else{var be=ze?Ge(require("@ag-grid-community/core"),require("react"),require("react-dom")):Ge(Fe["@ag-grid-community/core"],Fe.react,Fe["react-dom"]),Re=ze?exports:Fe;for(var Te in be)Re[Te]=be[Te]}})(typeof self<"u"?self:this,(Fe,Ge,ze)=>{var be={},Re={exports:be},Te=Object.create,Ne=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,St=Object.getOwnPropertyNames,bt=Object.getPrototypeOf,Pt=Object.prototype.hasOwnProperty,Et=(e,t)=>{for(var r in t)Ne(e,r,{get:t[r],enumerable:!0})},st=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of St(t))!Pt.call(e,s)&&s!==r&&Ne(e,s,{get:()=>t[s],enumerable:!(n=wt(t,s))||n.enumerable});return e},Z=(e,t,r)=>(r=e!=null?Te(bt(e)):{},st(t||!e||!e.__esModule?Ne(r,"default",{value:e,enumerable:!0}):r,e)),Mt=e=>st(Ne({},"__esModule",{value:!0}),e),nt={};Et(nt,{AgGridReact:()=>Jr,CustomComponentContext:()=>Ae,getInstance:()=>cr,useGridCellEditor:()=>Kr,useGridDate:()=>Qr,useGridFilter:()=>Yr,useGridFloatingFilter:()=>Zr,useGridMenuItem:()=>Xr,warnReactiveCustomComponents:()=>Ve}),Re.exports=Mt(nt);var ot=Z(require("react"),1),he=require("@ag-grid-community/core"),G=Z(require("react"),1),kt=require("@ag-grid-community/core"),x=Z(require("react"),1),Ft=Z(require("react"),1),Gt=Z(require("react"),1),_t=Z(require("react-dom"),1),$e=require("@ag-grid-community/core"),_e=Z(require("react"),1),xt=require("react"),xe=require("@ag-grid-community/core"),Bt=require("react"),Ot=require("react-dom"),At=require("@ag-grid-community/core"),at=require("@ag-grid-community/core"),It=require("@ag-grid-community/core"),H=Z(require("react"),1),we=require("@ag-grid-community/core"),S=Z(require("react"),1),Dt=require("@ag-grid-community/core"),ie=Z(require("react"),1),Wt=require("@ag-grid-community/core"),ce=Z(require("react"),1),Je=require("@ag-grid-community/core"),re=Z(require("react"),1),He=require("@ag-grid-community/core"),te=Z(require("react"),1),ct=require("@ag-grid-community/core"),O=Z(require("react"),1),Tt=require("@ag-grid-community/core"),L=Z(require("react"),1),Nt=require("react"),it=require("@ag-grid-community/core"),$=Z(require("react"),1),lt=require("@ag-grid-community/core"),_=Z(require("react"),1),Ke=require("@ag-grid-community/core"),h=Z(require("react"),1),Ht=require("@ag-grid-community/core"),Be=Z(require("react"),1),qt=require("react-dom"),Pe=require("react"),qe=require("react"),Ue=require("@ag-grid-community/core"),le=Z(require("react"),1),Ut=require("@ag-grid-community/core"),Lt=require("react"),ne=Ft.default.createContext({}),Oe=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const d=e.newAgStackInstance();if(d==null)return;let c,o,u=!1;return d.then(a=>{if(u){t.destroyBean(a);return}c=a,o=c.getGui(),r.appendChild(o),ut(n,c)}),()=>{u=!0,c&&(o?.parentElement?.removeChild(o),t.destroyBean(c),n&&ut(n,void 0))}},ut=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},fe=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),pe=class Rt{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new Rt;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Ee=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Qe=Gt.default.version?.split(".")[0],Vt=Qe==="16"||Qe==="17";function jt(){return Qe==="19"}var Le=!1;function zt(e){return Le||setTimeout(()=>Le=!1,0),Le=!0,e()}var Ye=(e,t)=>{!Vt&&e&&!Le?_t.default.flushSync(t):t()};function Ze(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],s=[],d=new Map,c=new Map;for(let o=0;o<t.length;o++){const u=t[o];c.set(u.instanceId,u)}for(let o=0;o<e.length;o++){const u=e[o];d.set(u.instanceId,u),c.has(u.instanceId)&&n.push(u)}for(let o=0;o<t.length;o++){const u=t[o],a=u.instanceId;d.has(a)||s.push(u)}return n.length===e.length&&s.length===0?e:n.length===0&&s.length===t.length?t:n.length===0?s:s.length===0?n:[...n,...s]}var dt=(0,x.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:n}=(0,x.useContext)(ne),s=(0,x.useRef)(null),d=(0,x.useRef)(null),c=(0,x.useRef)(null),o=(0,x.useRef)(null),u=(0,x.useRef)(null),a=(0,x.useRef)(),[l,g]=(0,x.useState)(),[w,v]=(0,x.useState)(),[m,f]=(0,x.useState)(),[i,C]=(0,x.useState)(()=>new pe),[b,R]=(0,x.useState)(()=>new pe("ag-hidden")),[P,E]=(0,x.useState)(()=>new pe("ag-hidden")),[q,M]=(0,x.useState)(()=>new pe("ag-invisible"));(0,x.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,x.useLayoutEffect)(()=>Oe(l,n,d.current),[l]);const F=(0,x.useCallback)(D=>{if(s.current=D,!D){a.current=n.destroyBean(a.current);return}const W={setInnerRenderer:(T,j)=>{g(T),f(j)},setChildCount:T=>v(T),addOrRemoveCssClass:(T,j)=>C(V=>V.setClass(T,j)),setContractedDisplayed:T=>E(j=>j.setClass("ag-hidden",!T)),setExpandedDisplayed:T=>R(j=>j.setClass("ag-hidden",!T)),setCheckboxVisible:T=>M(j=>j.setClass("ag-invisible",!T))},K=r.getInstance("groupCellRendererCtrl");K&&(a.current=n.createBean(K),a.current.init(W,D,c.current,o.current,u.current,dt,e))},[]),A=(0,x.useMemo)(()=>`ag-cell-wrapper ${i.toString()}`,[i]),p=(0,x.useMemo)(()=>`ag-group-expanded ${b.toString()}`,[b]),y=(0,x.useMemo)(()=>`ag-group-contracted ${P.toString()}`,[P]),B=(0,x.useMemo)(()=>`ag-group-checkbox ${q.toString()}`,[q]),oe=l&&l.componentFromFramework,N=oe?l.componentClass:void 0,J=l==null&&m!=null,I=(0,kt._escapeString)(m,!0);return x.default.createElement("span",{className:A,ref:F,...e.colDef?{}:{role:a.current?.getCellAriaRole()}},x.default.createElement("span",{className:p,ref:o}),x.default.createElement("span",{className:y,ref:u}),x.default.createElement("span",{className:B,ref:c}),x.default.createElement("span",{className:"ag-group-value",ref:d},J&&x.default.createElement(x.default.Fragment,null,I),oe&&x.default.createElement(N,{...l.params})),x.default.createElement("span",{className:"ag-group-child-count"},w))}),pt=dt,Ae=(0,xt.createContext)({setMethods:()=>{}}),$t=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:s}=e,[{key:d,...c},o]=(0,_e.useState)(t);return(0,_e.useEffect)(()=>{r(u=>o(u))},[]),_e.default.createElement(Ae.Provider,{value:{setMethods:s}},_e.default.createElement(n,{key:d,...c}))},Jt=(0,_e.memo)($t),Kt=0;function mt(){return`agPortalKey_${++Kt}`}var ft=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=mt(),this.portalKey=mt(),this.instanceCreated=this.isStatelessComponent()?xe.AgPromise.resolve(!1):new xe.AgPromise(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&((0,xe._warnOnce)('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&((0,xe._warnOnce)('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new xe.AgPromise(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,Ot.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,Bt.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Xe(e,t,r){e.forEach(n=>{const s=t[n];s&&(r[n]=s)})}var Ce=class extends ft{constructor(){super(...arguments),this.awaitUpdateCallback=new $e.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Jt}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new $e.AgPromise(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Xe(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new $e.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Qt=class extends Ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Yt=class extends Ce{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Zt=class extends Ce{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},Xt=class extends Ce{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function ht(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||At.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var er=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Xe(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ht(this.floatingFilterParams,e)}},tr=class extends Ce{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ht(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},rr=class extends Ce{refresh(e){this.sourceParams=e,this.refreshProps()}},sr=class extends Ce{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},nr=class extends Ce{refresh(e){this.sourceParams=e,this.refreshProps()}},or=class extends Ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ar=class extends Ce{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function cr(e,t){(e?.getInstance?.()??at.AgPromise.resolve(void 0)).then(n=>t(n))}function Ve(){(0,at._warnOnce)("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var ir=1e3,lr=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||ir}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},ur=({ctrl:e})=>{const t=e.isAlive(),{context:r}=(0,te.useContext)(ne),n=t?e.getColId():void 0,[s,d]=(0,te.useState)(),c=(0,te.useRef)(),o=(0,te.useRef)(null),u=(0,te.useRef)(null),a=(0,te.useRef)(null),l=(0,te.useRef)(),g=(0,te.useRef)();t&&!g.current&&(g.current=new He.CssClassManager(()=>o.current));const w=(0,te.useCallback)(i=>{if(o.current=i,c.current=i?r.createBean(new He._EmptyBean):r.destroyBean(c.current),!i||!t)return;const C={setWidth:R=>{o.current&&(o.current.style.width=R)},addOrRemoveCssClass:(R,P)=>g.current.addOrRemoveCssClass(R,P),setAriaSort:R=>{o.current&&(R?(0,He._setAriaSort)(o.current,R):(0,He._removeAriaSort)(o.current))},setUserCompDetails:R=>d(R),getUserCompInstance:()=>l.current||void 0};e.setComp(C,i,u.current,a.current,c.current);const b=e.getSelectAllGui();u.current?.insertAdjacentElement("afterend",b),c.current.addDestroyFunc(()=>b.remove())},[]);(0,te.useLayoutEffect)(()=>Oe(s,r,a.current,l),[s]),(0,te.useEffect)(()=>{e.setDragSource(o.current)},[s]);const v=(0,te.useMemo)(()=>!!(s?.componentFromFramework&&Ee(s.componentClass)),[s]),m=s&&s.componentFromFramework,f=s&&s.componentClass;return te.default.createElement("div",{ref:w,className:"ag-header-cell","col-id":n,role:"columnheader"},te.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),te.default.createElement("div",{ref:a,className:"ag-header-cell-comp-wrapper",role:"presentation"},m&&v&&te.default.createElement(f,{...s.params}),m&&!v&&te.default.createElement(f,{...s.params,ref:l})))},dr=(0,te.memo)(ur),pr=({ctrl:e})=>{const{context:t,gos:r}=(0,O.useContext)(ne),[n,s]=(0,O.useState)(()=>new pe("ag-header-cell","ag-floating-filter")),[d,c]=(0,O.useState)(()=>new pe),[o,u]=(0,O.useState)(()=>new pe("ag-floating-filter-button","ag-hidden")),[a,l]=(0,O.useState)("false"),[g,w]=(0,O.useState)(),[,v]=(0,O.useState)(1),m=(0,O.useRef)(),f=(0,O.useRef)(null),i=(0,O.useRef)(null),C=(0,O.useRef)(null),b=(0,O.useRef)(null),R=(0,O.useRef)(),P=(0,O.useRef)(),E=I=>{I!=null&&R.current&&R.current(I)},q=(0,O.useCallback)(I=>{if(f.current=I,m.current=I?t.createBean(new ct._EmptyBean):t.destroyBean(m.current),!I)return;P.current=new ct.AgPromise(W=>{R.current=W});const D={addOrRemoveCssClass:(W,K)=>s(T=>T.setClass(W,K)),addOrRemoveBodyCssClass:(W,K)=>c(T=>T.setClass(W,K)),setButtonWrapperDisplayed:W=>{u(K=>K.setClass("ag-hidden",!W)),l(W?"false":"true")},setWidth:W=>{f.current&&(f.current.style.width=W)},setCompDetails:W=>w(W),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:W=>b.current?.appendChild(W)};e.setComp(D,I,b.current,i.current,m.current)},[]);(0,O.useLayoutEffect)(()=>Oe(g,t,i.current,E),[g]);const M=(0,O.useMemo)(()=>n.toString(),[n]),F=(0,O.useMemo)(()=>d.toString(),[d]),A=(0,O.useMemo)(()=>o.toString(),[o]),p=(0,O.useMemo)(()=>!!(g&&g.componentFromFramework&&Ee(g.componentClass)),[g]),y=(0,O.useMemo)(()=>r.get("reactiveCustomComponents"),[]),B=(0,O.useMemo)(()=>{if(g)if(y){const I=new er(g.params,()=>v(D=>D+1));return E(I),I}else g.componentFromFramework&&Ve()},[g]),oe=B?.getProps(),N=g&&g.componentFromFramework,J=g&&g.componentClass;return O.default.createElement("div",{ref:q,className:M,role:"gridcell"},O.default.createElement("div",{ref:i,className:F,role:"presentation"},N&&!y&&O.default.createElement(J,{...g.params,ref:p?()=>{}:E}),N&&y&&O.default.createElement(Ae.Provider,{value:{setMethods:I=>B.setMethods(I)}},O.default.createElement(J,{...oe}))),O.default.createElement("div",{ref:C,"aria-hidden":a,className:A,role:"presentation"},O.default.createElement("button",{ref:b,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},mr=(0,O.memo)(pr),fr=({ctrl:e})=>{const{context:t}=(0,L.useContext)(ne),[r,n]=(0,L.useState)(()=>new pe),[s,d]=(0,L.useState)(()=>new pe),[c,o]=(0,L.useState)("false"),[u,a]=(0,L.useState)(),[l,g]=(0,L.useState)(),w=(0,L.useMemo)(()=>e.getColId(),[]),v=(0,L.useRef)(),m=(0,L.useRef)(null),f=(0,L.useRef)(null),i=(0,L.useRef)(null),C=(0,L.useRef)(),b=(0,L.useCallback)(F=>{if(m.current=F,v.current=F?t.createBean(new Tt._EmptyBean):t.destroyBean(v.current),!F)return;const A={setWidth:p=>{m.current&&(m.current.style.width=p)},addOrRemoveCssClass:(p,y)=>n(B=>B.setClass(p,y)),setHeaderWrapperHidden:p=>{const y=i.current;y&&(p?y.style.setProperty("display","none"):y.style.removeProperty("display"))},setHeaderWrapperMaxHeight:p=>{const y=i.current;y&&(p!=null?y.style.setProperty("max-height",`${p}px`):y.style.removeProperty("max-height"),y.classList.toggle("ag-header-cell-comp-wrapper-limited-height",p!=null))},setUserCompDetails:p=>g(p),setResizableDisplayed:p=>{d(y=>y.setClass("ag-hidden",!p)),o(p?"false":"true")},setAriaExpanded:p=>a(p),getUserCompInstance:()=>C.current||void 0};e.setComp(A,F,f.current,i.current,v.current)},[]);(0,L.useLayoutEffect)(()=>Oe(l,t,i.current),[l]),(0,L.useEffect)(()=>{m.current&&e.setDragSource(m.current)},[l]);const R=(0,L.useMemo)(()=>!!(l?.componentFromFramework&&Ee(l.componentClass)),[l]),P=(0,L.useMemo)(()=>"ag-header-group-cell "+r.toString(),[r]),E=(0,L.useMemo)(()=>"ag-header-cell-resize "+s.toString(),[s]),q=l&&l.componentFromFramework,M=l&&l.componentClass;return L.default.createElement("div",{ref:b,className:P,"col-id":w,role:"columnheader","aria-expanded":u},L.default.createElement("div",{ref:i,className:"ag-header-cell-comp-wrapper",role:"presentation"},q&&R&&L.default.createElement(M,{...l.params}),q&&!R&&L.default.createElement(M,{...l.params,ref:C})),L.default.createElement("div",{ref:f,"aria-hidden":c,className:E}))},hr=(0,L.memo)(fr),Cr=({ctrl:e})=>{const{context:t}=(0,re.useContext)(ne),{topOffset:r,rowHeight:n}=(0,re.useMemo)(()=>e.getTopAndHeight(),[]),s=e.getAriaRowIndex(),d=e.getHeaderRowClass(),[c,o]=(0,re.useState)(()=>n+"px"),[u,a]=(0,re.useState)(()=>r+"px"),l=(0,re.useRef)(null),g=(0,re.useRef)(null),[w,v]=(0,re.useState)(()=>e.getHeaderCtrls()),m=(0,re.useRef)(),f=(0,re.useRef)(null),i=(0,re.useCallback)(R=>{if(f.current=R,m.current=R?t.createBean(new Je._EmptyBean):t.destroyBean(m.current),!R)return;const P={setHeight:E=>o(E),setTop:E=>a(E),setHeaderCtrls:(E,q,M)=>{g.current=l.current,l.current=E;const F=Ze(g.current,E,q);F!==g.current&&Ye(M,()=>v(F))},setWidth:E=>{f.current&&(f.current.style.width=E)}};e.setComp(P,m.current,!1)},[]),C=(0,re.useMemo)(()=>({height:c,top:u}),[c,u]),b=(0,re.useCallback)(R=>{switch(e.getType()){case Je.HeaderRowType.COLUMN_GROUP:return re.default.createElement(hr,{ctrl:R,key:R.instanceId});case Je.HeaderRowType.FLOATING_FILTER:return re.default.createElement(mr,{ctrl:R,key:R.instanceId});default:return re.default.createElement(dr,{ctrl:R,key:R.instanceId})}},[]);return re.default.createElement("div",{ref:i,className:d,role:"row",style:C,"aria-rowindex":s},w.map(b))},gr=(0,re.memo)(Cr),yr=({pinned:e})=>{const[t,r]=(0,ce.useState)(!0),[n,s]=(0,ce.useState)([]),{context:d}=(0,ce.useContext)(ne),c=(0,ce.useRef)(null),o=(0,ce.useRef)(null),u=(0,ce.useRef)(),a=e==="left",l=e==="right",g=!a&&!l,w=(0,ce.useCallback)(f=>{if(c.current=f,u.current=f?d.createBean(new Wt.HeaderRowContainerCtrl(e)):d.destroyBean(u.current),!f)return;const i={setDisplayed:r,setCtrls:C=>s(C),setCenterWidth:C=>{o.current&&(o.current.style.width=C)},setViewportScrollLeft:C=>{c.current&&(c.current.scrollLeft=C)},setPinnedContainerWidth:C=>{c.current&&(c.current.style.width=C,c.current.style.minWidth=C,c.current.style.maxWidth=C)}};u.current.setComp(i,c.current)},[]),v=t?"":"ag-hidden",m=()=>n.map(f=>ce.default.createElement(gr,{ctrl:f,key:f.instanceId}));return ce.default.createElement(ce.default.Fragment,null,a&&ce.default.createElement("div",{ref:w,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},m()),l&&ce.default.createElement("div",{ref:w,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},m()),g&&ce.default.createElement("div",{ref:w,className:"ag-header-viewport "+v,role:"presentation"},ce.default.createElement("div",{ref:o,className:"ag-header-container",role:"rowgroup"},m())))},et=(0,ce.memo)(yr),vr=()=>{const[e,t]=(0,ie.useState)(()=>new pe),[r,n]=(0,ie.useState)(),{context:s}=(0,ie.useContext)(ne),d=(0,ie.useRef)(null),c=(0,ie.useRef)(),o=(0,ie.useCallback)(l=>{if(d.current=l,c.current=l?s.createBean(new Dt.GridHeaderCtrl):s.destroyBean(c.current),!l)return;const g={addOrRemoveCssClass:(w,v)=>t(m=>m.setClass(w,v)),setHeightAndMinHeight:w=>n(w)};c.current.setComp(g,l,l)},[]),u=(0,ie.useMemo)(()=>"ag-header "+e.toString(),[e]),a=(0,ie.useMemo)(()=>({height:r,minHeight:r}),[r]);return ie.default.createElement("div",{ref:o,className:u,style:a,role:"presentation"},ie.default.createElement(et,{pinned:"left"}),ie.default.createElement(et,{pinned:null}),ie.default.createElement(et,{pinned:"right"}))},Rr=(0,ie.memo)(vr),wr=(e,t)=>{(0,Nt.useEffect)(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const s=document.createComment(e);return n.insertBefore(s,r),()=>{n.removeChild(s)}}}},[e])},Se=wr,Sr=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ht.AgPromise(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Xe(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},br=e=>{const t=(0,Pe.useRef)(e),r=(0,Pe.useRef)(),n=(0,Pe.useRef)(!1),s=(0,Pe.useRef)(!1),[,d]=(0,Pe.useState)(0);n.current&&(s.current=!0),(0,Pe.useEffect)(()=>(n.current||(r.current=t.current(),n.current=!0),d(c=>c+1),()=>{s.current&&r.current?.()}),[])},Pr=e=>{const[t,r]=(0,Be.useState)(),{context:n,popupService:s,localeService:d,gos:c,editService:o}=(0,Be.useContext)(ne);return br(()=>{const{editDetails:u,cellCtrl:a,eParentCell:l}=e,{compDetails:g}=u,w=c.get("stopEditingWhenCellsLoseFocus"),v=n.createBean(o.createPopupEditorWrapper(g.params)),m=v.getGui();if(e.jsChildComp){const P=e.jsChildComp.getGui();P&&m.appendChild(P)}const f={column:a.getColumn(),rowNode:a.getRowNode(),type:"popupCellEditor",eventSource:l,ePopup:m,position:u.popupPosition,keepWithinBounds:!0},i=s.positionPopupByComponent.bind(s,f),C=d.getLocaleTextFunc(),b=s.addPopup({modal:w,eChild:m,closeOnEsc:!0,closedCallback:()=>{a.onPopupEditorClosed()},anchorToElement:l,positionCallback:i,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),R=b?b.hideFunc:void 0;return r(v),e.jsChildComp?.afterGuiAttached?.(),()=>{R?.(),n.destroyBean(v)}}),Be.default.createElement(Be.default.Fragment,null,t&&e.wrappedContent&&(0,qt.createPortal)(e.wrappedContent,t.getGui()))},Ct=(0,Be.memo)(Pr),Er=(e,t,r,n,s,d)=>{const{context:c}=(0,qe.useContext)(ne),o=(0,qe.useCallback)(()=>{const u=s.current;if(!u)return;const a=u.getGui();a&&a.parentElement&&a.parentElement.removeChild(a),c.destroyBean(u),s.current=void 0},[]);(0,qe.useEffect)(()=>{const u=e!=null,a=e?.compDetails&&!e.compDetails.componentFromFramework,l=t&&r==null;if(!(u&&a&&!l)){o();return}const w=e.compDetails;if(s.current){const m=s.current,i=m.refresh!=null&&e.force==!1?m.refresh(w.params):!1;if(i===!0||i===void 0)return;o()}const v=w.newAgStackInstance();v?.then(m=>{if(!m)return;const f=m.getGui();if(!f)return;(t?r:d.current).appendChild(f),s.current=m})},[e,t,n]),(0,qe.useEffect)(()=>o,[])},Mr=Er,kr=(e,t,r)=>{const{compProxy:n}=e;r(n);const s=n.getProps(),d=Ee(t);return h.default.createElement(Ae.Provider,{value:{setMethods:c=>n.setMethods(c)}},d?h.default.createElement(t,{...s}):h.default.createElement(t,{...s,ref:c=>n.setRef(c)}))},gt=(e,t,r)=>{const n=e.compProxy;return h.default.createElement(h.default.Fragment,null,n?kr(e,t,r):h.default.createElement(t,{...e.compDetails.params,ref:r}))},Fr=(e,t,r,n,s)=>{const d=e.compDetails,c=d.componentClass,o=d.componentFromFramework&&!e.popup,u=d.componentFromFramework&&e.popup,a=!d.componentFromFramework&&e.popup;return h.default.createElement(h.default.Fragment,null,o&&gt(e,c,t),u&&h.default.createElement(Ct,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:gt(e,c,t)}),a&&s&&h.default.createElement(Ct,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:s}))},Gr=(e,t,r,n,s,d,c)=>{const{compDetails:o,value:u}=e,a=!o,l=o&&o.componentFromFramework,g=o&&o.componentClass,w=u?.toString?u.toString():u,v=()=>h.default.createElement(h.default.Fragment,null,a&&h.default.createElement(h.default.Fragment,null,w),l&&!d&&h.default.createElement(g,{...o.params,key:t,ref:n}),l&&d&&h.default.createElement(g,{...o.params,key:t}));return h.default.createElement(h.default.Fragment,null,s?h.default.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:c},v()):v())},_r=({cellCtrl:e,printLayout:t,editingRow:r})=>{const{context:n}=(0,h.useContext)(ne),{colIdSanitised:s,instanceId:d}=e,c=(0,h.useRef)(),[o,u]=(0,h.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[a,l]=(0,h.useState)(),[g,w]=(0,h.useState)(1),[v,m]=(0,h.useState)(),[f,i]=(0,h.useState)(!1),[C,b]=(0,h.useState)(!1),[R,P]=(0,h.useState)(!1),[E,q]=(0,h.useState)(),M=(0,h.useMemo)(()=>e.isForceWrapper(),[e]),F=(0,h.useMemo)(()=>e.getCellAriaRole(),[e]),A=(0,h.useRef)(null),p=(0,h.useRef)(null),y=(0,h.useRef)(),B=(0,h.useRef)(),oe=(0,h.useRef)(),N=(0,h.useRef)([]),J=(0,h.useRef)(),[I,D]=(0,h.useState)(0),W=(0,h.useCallback)(z=>{J.current=z,D(se=>se+1)},[]),K=o!=null&&(f||R||C),T=M||K,j=(0,h.useCallback)(z=>{if(B.current=z,z){const se=z.isCancelBeforeStart&&z.isCancelBeforeStart();setTimeout(()=>{se?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),V=(0,h.useRef)();V.current||(V.current=new Ke.CssClassManager(()=>A.current)),Mr(o,T,J.current,I,y,A);const me=(0,h.useRef)();(0,h.useLayoutEffect)(()=>{const z=me.current,se=o;if(me.current=o,z==null||z.compDetails==null||se==null||se.compDetails==null)return;const ae=z.compDetails,U=se.compDetails;if(ae.componentClass!=U.componentClass||p.current?.refresh==null)return;p.current.refresh(U.params)!=!0&&w(ue=>ue+1)},[o]),(0,h.useLayoutEffect)(()=>{if(!(a&&!a.compDetails.componentFromFramework))return;const se=a.compDetails,ae=a.popup===!0,U=se.newAgStackInstance();return U.then(ee=>{if(!ee)return;const ue=ee.getGui();j(ee),ae||((M?oe:A).current?.appendChild(ue),ee.afterGuiAttached&&ee.afterGuiAttached()),q(ee)}),()=>{U.then(ee=>{const ue=ee.getGui();n.destroyBean(ee),j(void 0),q(void 0),ue?.parentElement?.removeChild(ue)})}},[a]);const k=(0,h.useCallback)(z=>{if(oe.current=z,!z){N.current.forEach(ae=>ae()),N.current=[];return}const se=ae=>{if(ae){const U=ae.getGui();z.insertAdjacentElement("afterbegin",U),N.current.push(()=>{n.destroyBean(ae),(0,Ke._removeFromParent)(U)})}return ae};if(f){const ae=e.createSelectionCheckbox();se(ae)}R&&se(e.createDndSource()),C&&se(e.createRowDragComp())},[e,n,R,C,f]),X=(0,h.useCallback)(z=>{if(A.current=z,c.current=z?n.createBean(new Ke._EmptyBean):n.destroyBean(c.current),!z||!e)return;const se={addOrRemoveCssClass:(U,ee)=>V.current.addOrRemoveCssClass(U,ee),setUserStyles:U=>m(U),getFocusableElement:()=>A.current,setIncludeSelection:U=>i(U),setIncludeRowDrag:U=>b(U),setIncludeDndSource:U=>P(U),getCellEditor:()=>B.current||null,getCellRenderer:()=>p.current??y.current,getParentOfValue:()=>J.current??oe.current??A.current,setRenderDetails:(U,ee,ue)=>{u(ve=>ve?.compDetails!==U||ve?.value!==ee||ve?.force!==ue?{value:ee,compDetails:U,force:ue}:ve)},setEditDetails:(U,ee,ue,ve)=>{if(U){let ke;ve?ke=new Sr(U.params,()=>w(tt=>tt+1)):U.componentFromFramework&&Ve(),l({compDetails:U,popup:ee,popupPosition:ue,compProxy:ke}),ee||u(void 0)}else l(ke=>{ke?.compProxy&&(B.current=void 0)})}},ae=oe.current||void 0;e.setComp(se,z,ae,t,r,c.current)},[]),Q=(0,h.useMemo)(()=>!!(o?.compDetails?.componentFromFramework&&Ee(o.compDetails.componentClass)),[o]);(0,h.useLayoutEffect)(()=>{A.current&&(V.current.addOrRemoveCssClass("ag-cell-value",!T),V.current.addOrRemoveCssClass("ag-cell-inline-editing",!!a&&!a.popup),V.current.addOrRemoveCssClass("ag-cell-popup-editing",!!a&&!!a.popup),V.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!a||!!a.popup),e.getRowCtrl()?.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&A.current.focus({preventScroll:!0}))});const ge=()=>h.default.createElement(h.default.Fragment,null,o!=null&&Gr(o,g,d,p,T,Q,W),a!=null&&Fr(a,j,A.current,e,E)),Me=(0,h.useCallback)(()=>e.onFocusOut(),[]);return h.default.createElement("div",{ref:X,style:v,role:F,"col-id":s,onBlur:Me},T?h.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:k},ge()):ge())},xr=(0,h.memo)(_r),Br=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n}=(0,_.useContext)(ne),s=(0,_.useRef)(),d=(0,_.useRef)(e.getDomOrder()),c=e.isFullWidth(),o=e.getRowNode().displayed,[u,a]=(0,_.useState)(()=>o?e.getRowIndex():null),[l,g]=(0,_.useState)(()=>e.getRowId()),[w,v]=(0,_.useState)(()=>e.getBusinessKey()),[m,f]=(0,_.useState)(()=>e.getRowStyles()),i=(0,_.useRef)(null),C=(0,_.useRef)(null),[b,R]=(0,_.useState)(()=>null),[P,E]=(0,_.useState)(),[q,M]=(0,_.useState)(()=>o?e.getInitialRowTop(t):void 0),[F,A]=(0,_.useState)(()=>o?e.getInitialTransform(t):void 0),p=(0,_.useRef)(null),y=(0,_.useRef)(),B=(0,_.useRef)(!1),[oe,N]=(0,_.useState)(0);(0,_.useEffect)(()=>{if(B.current||!P||oe>10)return;const k=p.current?.firstChild;k?(e.setupDetailRowAutoHeight(k),B.current=!0):N(X=>X+1)},[P,oe]);const J=(0,_.useRef)();J.current||(J.current=new lt.CssClassManager(()=>p.current));const I=(0,_.useCallback)(k=>{if(p.current=k,s.current=k?r.createBean(new lt._EmptyBean):r.destroyBean(s.current),!k){e.unsetComp(t);return}if(!e.isAlive())return;const X={setTop:M,setTransform:A,addOrRemoveCssClass:(Q,ge)=>J.current.addOrRemoveCssClass(Q,ge),setDomOrder:Q=>d.current=Q,setRowIndex:a,setRowId:g,setRowBusinessKey:v,setUserStyles:f,setCellCtrls:(Q,ge)=>{C.current=i.current,i.current=Q;const Me=Ze(C.current,Q,d.current);Me!==C.current&&Ye(ge,()=>R(Me))},showFullWidth:Q=>E(Q),getFullWidthCellRenderer:()=>y.current,refreshFullWidth:Q=>j.current?(E(ge=>({...ge,params:Q()})),!0):!y.current||!y.current.refresh?!1:y.current.refresh(Q())};e.setComp(X,k,t,s.current)},[]);(0,_.useLayoutEffect)(()=>Oe(P,r,p.current,y),[P]);const D=(0,_.useMemo)(()=>{const k={top:q,transform:F};return Object.assign(k,m),k},[q,F,m]),W=c&&P?.componentFromFramework,K=!c&&b!=null,T=(0,_.useMemo)(()=>!!(P?.componentFromFramework&&Ee(P.componentClass)),[P]),j=(0,_.useRef)(!1);(0,_.useEffect)(()=>{j.current=T&&!!P&&!!n.get("reactiveCustomComponents")},[T,P]);const V=()=>b?.map(k=>_.default.createElement(xr,{cellCtrl:k,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:k.instanceId})),me=()=>{const k=P.componentClass;return _.default.createElement(_.default.Fragment,null,T?_.default.createElement(k,{...P.params}):_.default.createElement(k,{...P.params,ref:y}))};return _.default.createElement("div",{ref:I,role:"row",style:D,"row-index":u,"row-id":l,"row-business-key":w},K&&V(),W&&me())},Or=(0,_.memo)(Br),Ar=({name:e})=>{const{context:t}=(0,$.useContext)(ne),r=(0,$.useMemo)(()=>(0,it._getRowContainerOptions)(e),[e]),n=(0,$.useRef)(null),s=(0,$.useRef)(null),d=(0,$.useRef)([]),c=(0,$.useRef)([]),[o,u]=(0,$.useState)(()=>[]),a=(0,$.useRef)(!1),l=(0,$.useRef)(),g=(0,$.useMemo)(()=>fe(r.viewport),[r]),w=(0,$.useMemo)(()=>fe(r.container),[r]),v=r.type==="center",m=v?n:s;Se(" AG Row Container "+e+" ",m);const f=(0,$.useCallback)(()=>v?n.current!=null&&s.current!=null:s.current!=null,[]),i=(0,$.useCallback)(()=>v?n.current==null&&s.current==null:s.current==null,[]),C=(0,$.useCallback)(()=>{if(i()&&(l.current=t.destroyBean(l.current)),f()){const E=M=>{const F=Ze(c.current,d.current,a.current);F!==c.current&&(c.current=F,Ye(M,()=>u(F)))},q={setHorizontalScroll:M=>{n.current&&(n.current.scrollLeft=M)},setViewportHeight:M=>{n.current&&(n.current.style.height=M)},setRowCtrls:({rowCtrls:M,useFlushSync:F})=>{const A=!!F&&d.current.length>0&&M.length>0;d.current=M,E(A)},setDomOrder:M=>{a.current!=M&&(a.current=M,E(!1))},setContainerWidth:M=>{s.current&&(s.current.style.width=M)},setOffsetTop:M=>{s.current&&(s.current.style.transform=`translateY(${M})`)}};l.current=t.createBean(new it.RowContainerCtrl(e)),l.current.setComp(q,s.current,n.current)}},[f,i]),b=(0,$.useCallback)(E=>{s.current=E,C()},[C]),R=(0,$.useCallback)(E=>{n.current=E,C()},[C]),P=()=>$.default.createElement("div",{className:w,ref:b,role:"rowgroup"},o.map(E=>$.default.createElement(Or,{rowCtrl:E,containerType:r.type,key:E.instanceId})));return $.default.createElement($.default.Fragment,null,v?$.default.createElement("div",{className:g,ref:R,role:"presentation"},P()):P())},Ir=(0,$.memo)(Ar),Dr=()=>{const{context:e,resizeObserverService:t}=(0,S.useContext)(ne),[r,n]=(0,S.useState)(""),[s,d]=(0,S.useState)(0),[c,o]=(0,S.useState)(0),[u,a]=(0,S.useState)("0px"),[l,g]=(0,S.useState)("0px"),[w,v]=(0,S.useState)("100%"),[m,f]=(0,S.useState)("0px"),[i,C]=(0,S.useState)("0px"),[b,R]=(0,S.useState)("100%"),[P,E]=(0,S.useState)(""),[q,M]=(0,S.useState)(""),[F,A]=(0,S.useState)(null),[p,y]=(0,S.useState)(""),[B,oe]=(0,S.useState)(null),[N,J]=(0,S.useState)("ag-layout-normal"),I=(0,S.useRef)();I.current||(I.current=new we.CssClassManager(()=>D.current));const D=(0,S.useRef)(null),W=(0,S.useRef)(null),K=(0,S.useRef)(null),T=(0,S.useRef)(null),j=(0,S.useRef)(null),V=(0,S.useRef)(null),me=(0,S.useRef)(null),k=(0,S.useRef)([]),X=(0,S.useRef)([]);Se(" AG Grid Body ",D),Se(" AG Pinned Top ",W),Se(" AG Sticky Top ",K),Se(" AG Middle ",V),Se(" AG Pinned Bottom ",me);const Q=(0,S.useCallback)(ye=>{if(D.current=ye,!ye){k.current=e.destroyBeans(k.current),X.current.forEach(Y=>Y()),X.current=[];return}if(!e)return;const je=(Y,de)=>{Y.appendChild(de),X.current.push(()=>Y.removeChild(de))},rt=Y=>{const de=e.createBean(new Y);return k.current.push(de),de},We=(Y,de,ss)=>{je(Y,document.createComment(ss)),je(Y,rt(de).getGui())};We(ye,we.FakeHScrollComp," AG Fake Horizontal Scroll "),We(ye,we.OverlayWrapperComponent," AG Overlay Wrapper "),j.current&&We(j.current,we.FakeVScrollComp," AG Fake Vertical Scroll ");const rs={setRowAnimationCssOnBodyViewport:n,setColumnCount:Y=>{D.current&&(0,we._setAriaColCount)(D.current,Y)},setRowCount:Y=>{D.current&&(0,we._setAriaRowCount)(D.current,Y)},setTopHeight:d,setBottomHeight:o,setStickyTopHeight:a,setStickyTopTop:g,setStickyTopWidth:v,setTopDisplay:E,setBottomDisplay:M,setColumnMovingCss:(Y,de)=>I.current.addOrRemoveCssClass(Y,de),updateLayoutClasses:J,setAlwaysVerticalScrollClass:A,setPinnedTopBottomOverflowY:y,setCellSelectableCss:(Y,de)=>oe(de?Y:null),setBodyViewportWidth:Y=>{V.current&&(V.current.style.width=Y)},registerBodyViewportResizeListener:Y=>{if(V.current){const de=t.observeResize(V.current,Y);X.current.push(()=>de())}},setStickyBottomHeight:f,setStickyBottomBottom:C,setStickyBottomWidth:R},vt=e.createBean(new we.GridBodyCtrl);k.current.push(vt),vt.setComp(rs,ye,V.current,W.current,me.current,K.current,T.current)},[]),ge=(0,S.useMemo)(()=>fe("ag-root","ag-unselectable",N),[N]),Me=(0,S.useMemo)(()=>fe("ag-body-viewport",r,N,F,B),[r,N,F,B]),z=(0,S.useMemo)(()=>fe("ag-body",N),[N]),se=(0,S.useMemo)(()=>fe("ag-floating-top",B),[B]),ae=(0,S.useMemo)(()=>fe("ag-sticky-top",B),[B]),U=(0,S.useMemo)(()=>fe("ag-sticky-bottom",m==="0px"?"ag-hidden":null,B),[B,m]),ee=(0,S.useMemo)(()=>fe("ag-floating-bottom",B),[B]),ue=(0,S.useMemo)(()=>({height:s,minHeight:s,display:P,overflowY:p}),[s,P,p]),ve=(0,S.useMemo)(()=>({height:u,top:l,width:w}),[u,l,w]),ke=(0,S.useMemo)(()=>({height:m,bottom:i,width:b}),[m,i,b]),tt=(0,S.useMemo)(()=>({height:c,minHeight:c,display:q,overflowY:p}),[c,q,p]),ts=ye=>S.default.createElement(Ir,{name:ye,key:`${ye}-container`}),De=({section:ye,children:je,className:rt,style:We})=>S.default.createElement("div",{ref:ye,className:rt,role:"presentation",style:We},je.map(ts));return S.default.createElement("div",{ref:Q,className:ge,role:"treegrid"},S.default.createElement(Rr,null),De({section:W,className:se,style:ue,children:["topLeft","topCenter","topRight","topFullWidth"]}),S.default.createElement("div",{className:z,ref:j,role:"presentation"},De({section:V,className:Me,children:["left","center","right","fullWidth"]})),De({section:K,className:ae,style:ve,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),De({section:T,className:U,style:ke,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),De({section:me,className:ee,style:tt,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Wr=(0,S.memo)(Dr),Tr=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:d,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:o}=(0,le.useContext)(ne),u=(0,le.useRef)(null),a=(0,le.useRef)(null),l=(0,le.useRef)(),g=i=>{const C=i==null?void 0:parseInt(i,10).toString();[u,a].forEach(b=>{C===void 0?b.current?.removeAttribute("tabindex"):b.current?.setAttribute("tabindex",C)})};(0,le.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(i){l.current?.forceFocusOutOfContainer(i)}}));const w=(0,le.useCallback)(()=>{const i=u.current,C=a.current;if(!i&&!C){l.current=o.destroyBean(l.current);return}if(i&&C){const b={setTabIndex:g};l.current=o.createBean(new Ue.TabGuardCtrl({comp:b,eTopGuard:i,eBottomGuard:C,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:R=>d.focusInnerElement(R)}))}},[]),v=(0,le.useCallback)(i=>{u.current=i,w()},[w]),m=(0,le.useCallback)(i=>{a.current=i,w()},[w]),f=i=>{const C=i==="top"?Ue.TabGuardClassNames.TAB_GUARD_TOP:Ue.TabGuardClassNames.TAB_GUARD_BOTTOM;return le.default.createElement("div",{className:`${Ue.TabGuardClassNames.TAB_GUARD} ${C}`,role:"presentation",ref:i==="top"?v:m})};return le.default.createElement(le.default.Fragment,null,f("top"),r,f("bottom"))},Nr=(0,le.forwardRef)(Tr),Hr=(0,le.memo)(Nr),qr=({context:e})=>{const[t,r]=(0,H.useState)(""),[n,s]=(0,H.useState)(""),[d,c]=(0,H.useState)(""),[o,u]=(0,H.useState)(null),[a,l]=(0,H.useState)(null),[g,w]=(0,H.useState)(!1),[v,m]=(0,H.useState)(),f=(0,H.useRef)(),i=(0,H.useRef)(null),C=(0,H.useRef)(),[b,R]=(0,H.useState)(null),P=(0,H.useRef)(()=>{}),E=(0,H.useRef)(),q=(0,H.useRef)([]),M=(0,H.useCallback)(()=>{},[]),F=(0,H.useMemo)(()=>e.isDestroyed()?null:e.getBeans(),[e]);Se(" AG Grid ",i);const A=(0,H.useCallback)(N=>{if(i.current=N,f.current=N?e.createBean(new It.GridCtrl):e.destroyBean(f.current),!N||e.isDestroyed())return;const J=f.current;P.current=J.focusInnerElement.bind(J);const I={destroyGridUi:()=>{},setRtlClass:r,setGridThemeClass:s,forceFocusOutOfContainer:D=>{if(!D&&E.current?.isDisplayed()){E.current.forceFocusOutOfContainer(D);return}C.current?.forceFocusOutOfContainer(D)},updateLayoutClasses:c,getFocusableContainers:()=>{const D=[],W=i.current?.querySelector(".ag-root");return W&&D.push({getGui:()=>W}),q.current.forEach(K=>{K.isDisplayed()&&D.push(K)}),D},setCursor:u,setUserSelect:l};J.setComp(I,N,N),w(!0)},[]);(0,H.useEffect)(()=>{const N=f.current,J=i.current;if(!v||!F||!N||!b||!J)return;const I=[],{watermarkSelector:D,paginationSelector:W,sideBarSelector:K,statusBarSelector:T,gridHeaderDropZonesSelector:j}=N.getOptionalSelectors(),V=[];if(j){const k=e.createBean(new j.component),X=k.getGui();J.insertAdjacentElement("afterbegin",X),V.push(X),I.push(k)}if(K){const k=e.createBean(new K.component),X=k.getGui(),Q=b.querySelector(".ag-tab-guard-bottom");Q&&(Q.insertAdjacentElement("beforebegin",X),V.push(X)),I.push(k),q.current.push(k)}const me=k=>{const X=e.createBean(new k),Q=X.getGui();return J.insertAdjacentElement("beforeend",Q),V.push(Q),I.push(X),X};if(T&&me(T.component),W){const k=me(W.component);E.current=k,q.current.push(k)}return D&&me(D.component),()=>{e.destroyBeans(I),V.forEach(k=>{k.parentElement?.removeChild(k)})}},[v,b,F]);const p=(0,H.useMemo)(()=>fe("ag-root-wrapper",t,n,d),[t,n,d]),y=(0,H.useMemo)(()=>fe("ag-root-wrapper-body","ag-focus-managed",d),[d]),B=(0,H.useMemo)(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:o??""}),[a,o]),oe=(0,H.useCallback)(N=>{C.current=N,m(N!==null)},[]);return H.default.createElement("div",{ref:A,className:p,style:B,role:"presentation"},H.default.createElement("div",{className:y,ref:R,role:"presentation"},g&&b&&F&&H.default.createElement(ne.Provider,{value:F},H.default.createElement(Hr,{ref:oe,eFocusableElement:b,onTabKeyDown:M,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0},H.default.createElement(Wr,null)))))},Ur=(0,H.memo)(qr),Lr=class extends Ut.BeanStub{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},yt=e=>{const t=(0,G.useRef)(),r=(0,G.useRef)(null),n=(0,G.useRef)(null),s=(0,G.useRef)([]),d=(0,G.useRef)([]),c=(0,G.useRef)(e),o=(0,G.useRef)(),u=(0,G.useRef)(),a=(0,G.useRef)(!1),[l,g]=(0,G.useState)(void 0),[,w]=(0,G.useState)(0),v=(0,G.useCallback)(i=>{if(r.current=i,!i){s.current.forEach(p=>p()),s.current.length=0;return}const C=e.modules||[];n.current||(n.current=new lr(()=>w(p=>p+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{n.current?.destroy(),n.current=null}));const b=(0,he._combineAttributesAndGridOptions)(e.gridOptions,e),R=()=>{if(a.current){const p=()=>o.current?.shouldQueueUpdates()?void 0:d.current.shift();let y=p();for(;y;)y(),y=p()}},P=new $r(R);o.current=P;const E=new Lr,q={providedBeanInstances:{frameworkComponentWrapper:new jr(n.current,b.reactiveCustomComponents??(0,he._getGlobalGridOption)("reactiveCustomComponents")??!0),renderStatusService:E},modules:C,frameworkOverrides:P},M=p=>{g(p),p.createBean(E),s.current.push(()=>{p.destroy()}),p.getBean("ctrlsService").whenReady({addDestroyFunc:y=>{s.current.push(y)}},()=>{if(p.isDestroyed())return;const y=t.current;y&&e.setGridApi?.(y)})},F=p=>{p.getBean("ctrlsService").whenReady({addDestroyFunc:y=>{s.current.push(y)}},()=>{d.current.forEach(y=>y()),d.current.length=0,a.current=!0})},A=new he.GridCoreCreator;b.gridId??(b.gridId=u.current),t.current=A.create(i,b,M,F,q),s.current.push(()=>{t.current=void 0}),t.current&&(u.current=t.current.getGridId())},[]),m=(0,G.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),f=(0,G.useCallback)(i=>{a.current&&!o.current?.shouldQueueUpdates()?i():d.current.push(i)},[]);return(0,G.useEffect)(()=>{const i=Vr(c.current,e);c.current=e,f(()=>{t.current&&(0,he._processOnChange)(i,t.current)})},[e]),G.default.createElement("div",{style:m,className:e.className,ref:v},l&&!l.isDestroyed()?G.default.createElement(Ur,{context:l}):null,n.current?.getPortals()??null)};function Vr(e,t){const r={};return Object.keys(t).forEach(n=>{const s=t[n];e[n]!==s&&(r[n]=s)}),r}var jr=class extends he.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const s=(d=>{switch(d){case"filter":return Xt;case"floatingFilterComponent":return tr;case"dateComponent":return Yt;case"dragAndDropImageComponent":return Zt;case"loadingOverlayComponent":return rr;case"noRowsOverlayComponent":return nr;case"statusPanel":return or;case"toolPanel":return ar;case"menuItem":return sr;case"cellRenderer":return Qt}})(t.propertyName);if(s)return new s(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ve();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new ft(e,this.parent,t,r)}},zr=(0,G.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:n,gos:s,resizeObserverService:d,rowModel:c}=(0,G.useContext)(ne),[o,u]=(0,G.useState)(()=>new pe),[a,l]=(0,G.useState)(()=>new pe),[g,w]=(0,G.useState)(),[v,m]=(0,G.useState)(),f=(0,G.useRef)(),i=(0,G.useRef)(null),C=(0,G.useRef)(),b=(0,G.useMemo)(()=>he.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId()),[e]),R=(0,G.useMemo)(()=>o.toString()+" ag-details-row",[o]),P=(0,G.useMemo)(()=>a.toString()+" ag-details-grid",[a]);t&&(0,G.useImperativeHandle)(t,()=>({refresh(){return f.current?.refresh()??!1}})),e.template&&(0,he._warnOnce)("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const E=(0,G.useCallback)(M=>{if(i.current=M,!M){f.current=n.destroyBean(f.current),C.current?.();return}const F={addOrRemoveCssClass:(p,y)=>u(B=>B.setClass(p,y)),addOrRemoveDetailGridCssClass:(p,y)=>l(B=>B.setClass(p,y)),setDetailGrid:p=>w(p),setRowData:p=>m(p),getGui:()=>i.current},A=r.getInstance("detailCellRenderer");if(A&&(n.createBean(A),A.init(F,e),f.current=A,s.get("detailRowAutoHeight"))){const p=()=>{if(i.current==null)return;const y=i.current.clientHeight;y!=null&&y>0&&setTimeout(()=>{e.node.setRowHeight(y),((0,he._isClientSideRowModel)(s)||(0,he._isServerSideRowModel)(s))&&c.onRowHeightChanged()},0)};C.current=d.observeResize(M,p),p()}},[]),q=(0,G.useCallback)(M=>{f.current?.registerDetailWithMaster(M)},[]);return G.default.createElement("div",{className:R,ref:E},g&&G.default.createElement(yt,{className:P,...g,modules:b,rowData:v,setGridApi:q}))}),$r=class extends he.VanillaFrameworkOverrides{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:pt,agGroupRowRenderer:pt,agDetailCellRenderer:zr},this.wrapIncoming=(t,r)=>r==="ensureVisible"?zt(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return jt()}},Jr=class extends ot.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ot.default.createElement(yt,{...this.props,setGridApi:this.setGridApi})}};function Ie(e){const{setMethods:t}=(0,Lt.useContext)(Ae);t(e)}function Kr(e){Ie(e)}function Qr(e){return Ie(e)}function Yr(e){return Ie(e)}function Zr(e){Ie(e)}function Xr(e){Ie(e)}if(typeof Re.exports=="object"&&typeof be=="object"){var es=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Object.getOwnPropertyNames(t))!Object.prototype.hasOwnProperty.call(e,s)&&s!==r&&Object.defineProperty(e,s,{get:()=>t[s],enumerable:!(n=Object.getOwnPropertyDescriptor(t,s))||n.enumerable});return e};Re.exports=es(Re.exports,be)}return Re.exports});
